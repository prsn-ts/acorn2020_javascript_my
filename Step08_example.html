<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step08_example.html</title>
</head>
<body>
    <h1>반복문 활용 예제 테스트중...</h1>
    <input type="text" id="inputName" placeholder="검색할 이름...">
    <button id="findBtn">검색</button>
    <p id="console"></p>
    <script>
        //친구 정보를 담을 배열
        var friends=[];
        //배열에 sample 데이터 담기
        //friends.push("김구라/010-111-2222/aaa@naver.com/남"); -> 관리하기가 불편하고 읽기 쓰기가 번거로움.
        friends.push({name:"김구라", phone:"010", email:"aaa@"});
        friends.push({name:"김진호", phone:"011", email:"bbb@"});
        friends.push({name:"이봉하", phone:"017", email:"ccc@"});
        friends.push({name:"이세희", phone:"018", email:"ddd@"});
        friends.push({name:"백운용", phone:"017", email:"eee@"});

        /*
        1. 검색 버튼을 눌렀을 때
        2. 입력된 값들을 가져오고 난후
        3. 입력된 값과 현재 배열에 저장된 값이 같은 지 비교.
        4. 같으면 p요소 innerText로 그대로 출력하고 아니면 "일치하는 정보가 없습니다" 출력하기.
        */
        document.querySelector("#findBtn")
        .addEventListener("click", function(){
            //1. 입력한 이름을 읽어오고 inputName에 저장
            var inputName = document.querySelector("#inputName").value;
            //검색된 데이터가 존재 하는지 여부

            //2. 배열(friends)에서 동일한 이름을 가지고 있는 {}를 찾는다.
            for(var i=0; i<friends.length; i++){
                var Searched = friends[i];
                //만일 입력한 이름과 친구정보에 있는 이름과 같으면
                //해당 정보를 p요소에 출력하기
                if(inputName == Searched.name) {
                    //document.querySelector("#console").innerHTML = JSON.stringify(Searched); -> 오브젝트 자체를 출력하고 싶을 때 JSON을 이용해 나타냄.
                    document.querySelector("#console").innerHTML = Searched.name+Searched.phone+Searched.email;
                    break; //for 문도 탈출이 가능 할까?(for문 반복으로 인해 결과가 겹쳐서 나오는 문제) -> 해결됨!

                    //검색된 이름이 존재한다고 표시 한다.
                    isExist=true;
                }         
            }
            //for문 종료 후에 if 문 블럭에 실행순서가 갔었는지
            //여부를 알고 싶다면??
            if(isExist==false){
                document.querySelector("#console").innerText = 
                    inputName+" 으로 검색된 정보는 없습니다.";
            }
        });


    </script>
</body>
</html>